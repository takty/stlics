import{S as T,c as b,w as h}from"./style-CICdWEZl.js";/* empty css                   */const m=1,R=4,S=1,$=20;document.addEventListener("DOMContentLoaded",async()=>{const p=document.getElementById("solver-type");T.crispSolverNames().forEach((n,s)=>{const e=document.createElement("option");e.textContent=n,e.value=""+s,p.appendChild(e)}),p.value=""+R;const f=document.getElementById("target-rate");f.value=""+S;const c=document.getElementById("queen-num");c.value=""+$;const v=document.getElementById("board"),B=document.getElementById("output"),u=b();let y=null,d=null;const g=document.getElementById("solver-start"),i=document.getElementById("solver-stop");g.addEventListener("click",()=>{g.disabled=!0,i.disabled=!1,40<=parseInt(c.value)?v.classList.add("small"):v.classList.remove("small"),y=k(v,parseInt(c.value)),B.value="",d=w(()=>i.click()),C(d,parseInt(p.value),parseFloat(f.value),parseInt(c.value))}),i.addEventListener("click",()=>{g.disabled=!1,i.disabled=!0,d&&d.terminate()});function k(n,s){const e=[];n.innerHTML="";for(let o=0;o<s;++o){const a=document.createElement("tr");n.appendChild(a),e.push(a);for(let t=0;t<s;++t){const r=document.createElement("td");a.appendChild(r)}}return e}let l=0;function w(n){let s=0,e=0;const o=new Worker(new URL(""+new URL("worker-Cgt5CEhL.js",import.meta.url).href,import.meta.url),{type:"module"});return o.onmessage=a=>{const{data:t}=a;if("log"in t)u(t.log);else if("board"in t){const{x:r,y:E}=t.board;y[E].className="p"+r}else if("result"in t){const{result:r,solver:E,time:L,rate:I}=t;s+=L,e+=I,l+=1,u(`solver: ${E}   ${r?"success":"failure"}`),u(`trial: ${l}   time: ${L}   rate: ${I}`),m<=l&&(u(`average time: ${s/m}   average rate: ${e/m}`),n())}},o}async function C(n,s,e,o){for(let a=0;a<m;++a){const t=l;n.postMessage({task:"create",args:[o]}),n.postMessage({task:"solve",args:[s,e]}),await h(()=>l!==t)}}});
