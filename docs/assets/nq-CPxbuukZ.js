import{S as N,c as O,w as x}from"./style-x0HsI867.js";/* empty css                   */const F=1,A=0,U=1,R=4e3,j=20;document.addEventListener("DOMContentLoaded",async()=>{const p=document.getElementById("solver-type");p.value=""+A,N.crispSolverNames().forEach((s,t)=>{const e=document.createElement("option");e.textContent=s,e.value=""+t,p.appendChild(e)});const d=document.getElementById("queen-num");d.value=""+j;const v=document.getElementById("iter-num");v.value=""+F;const y=document.getElementById("target");y.value=""+U;const T=document.getElementById("target-on"),B=document.getElementById("time-limit");B.value=""+R;const b=document.getElementById("time-limit-on"),h=document.getElementById("debug-on"),E=document.getElementById("board"),w=document.getElementById("output"),m=O(),S=document.getElementById("indicator");let f=null,u=null;const I=document.getElementById("solver-start"),g=document.getElementById("solver-stop");I.addEventListener("click",()=>{I.disabled=!0,g.disabled=!1,40<=parseInt(d.value)?E.classList.add("small"):E.classList.remove("small"),f=$(E,parseInt(d.value)),w.value="",u=C(()=>g.click()),M(u,parseInt(p.value),T.checked?parseFloat(y.value):-1,b.checked?parseInt(B.value):-1,h.checked,parseInt(d.value))}),g.addEventListener("click",()=>{I.disabled=!1,g.disabled=!0,u&&u.terminate()});function $(s,t){const e=[];s.innerHTML="";for(let n=0;n<t;++n){const a=document.createElement("tr");s.appendChild(a),e.push(a);for(let r=0;r<t;++r){const o=document.createElement("td");a.appendChild(o)}}return e}let l=0;function C(s){let t=0,e=0;l=0;const n=parseInt(v.value),a=new Worker(new URL(""+new URL("worker-BjB7NO1g.js",import.meta.url).href,import.meta.url),{type:"module"});return a.onmessage=r=>{const{data:o}=r;if("log"in o)m(o.log);else if("board"in o){const{x:c,y:i}=o.board;f[i].className="p"+c}else if("result"in o){const{result:c,solver:i,time:L,ev:k}=o;t+=L,e+=k,l+=1,m(`Solver: ${i}    ${c?"Success":"Failure"}`),m(`Trial: ${l}    time: ${L}    ratio: ${k}`),n<=l&&(m(`Avg. time: ${t/n}    Avg. ratio: ${e/n}`),S.innerHTML=`Avg. time: ${(t/n).toFixed(1)}&emsp;Avg. ratio: ${(e/n).toFixed(4)}`,s())}},a}async function M(s,t,e,n,a,r){const o=parseInt(v.value);for(let c=0;c<o;++c){const i=l;s.postMessage({task:"create",args:[r]}),s.postMessage({task:"solve",args:[t,e,n,a]}),await x(()=>l!==i)}}});
