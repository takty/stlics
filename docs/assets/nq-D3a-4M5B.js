import{S as b,c as S,w as $}from"./style-CgIDZtVt.js";/* empty css                   */const m=1,h=0,C=1,N=20;document.addEventListener("DOMContentLoaded",async()=>{const p=document.getElementById("solver-type");b.crispSolverNames().forEach((n,s)=>{const e=document.createElement("option");e.textContent=n,e.value=""+s,p.appendChild(e)}),p.value=""+h;const f=document.getElementById("target-rate");f.value=""+C;const c=document.getElementById("queen-num");c.value=""+N;const v=document.getElementById("board"),L=document.getElementById("output"),i=S();let y=null,u=null;const E=document.getElementById("solver-start"),d=document.getElementById("solver-stop");E.addEventListener("click",()=>{E.disabled=!0,d.disabled=!1,40<=parseInt(c.value)?v.classList.add("small"):v.classList.remove("small"),y=k(v,parseInt(c.value)),L.value="",u=w(()=>d.click()),T(u,parseInt(p.value),parseFloat(f.value),parseInt(c.value))}),d.addEventListener("click",()=>{E.disabled=!1,d.disabled=!0,u&&u.terminate()});function k(n,s){const e=[];n.innerHTML="";for(let a=0;a<s;++a){const o=document.createElement("tr");n.appendChild(o),e.push(o);for(let t=0;t<s;++t){const r=document.createElement("td");o.appendChild(r)}}return e}let l=0;function w(n){let s=0,e=0;const a=new Worker(new URL(""+new URL("worker-iktOEYZB.js",import.meta.url).href,import.meta.url),{type:"module"});return a.onmessage=o=>{const{data:t}=o;if("log"in t)i(t.log);else if("board"in t){const{x:r,y:g}=t.board;y[g].className="p"+r}else if("result"in t){const{result:r,solver:g,time:B,ev:I}=t;s+=B,e+=I,l+=1,i(`solver: ${g}   ${r?"success":"failure"}`),i(`trial: ${l}   time: ${B}   ratio: ${I}`),m<=l&&(i(`average time: ${s/m}   average ratio: ${e/m}`),n())}},a}async function T(n,s,e,a){for(let o=0;o<m;++o){const t=l;n.postMessage({task:"create",args:[a]}),n.postMessage({task:"solve",args:[s,e]}),await $(()=>l!==t)}}});
