import{S as O,c as N,w as A}from"./style-D469-7MC.js";/* empty css                   */const F=1,U=0,x=1,R=4e3,_=20;document.addEventListener("DOMContentLoaded",async()=>{const v=document.getElementById("solver-type");v.value=""+U,O.crispSolverNames().forEach((s,t)=>{const e=document.createElement("option");e.textContent=s,e.value=""+t,v.appendChild(e)});const i=document.getElementById("queen-num");i.value=""+_;const g=document.getElementById("iter-num");g.value=""+F;const y=document.getElementById("target");y.value=""+x;const T=document.getElementById("target-on"),B=document.getElementById("time-limit");B.value=""+R;const h=document.getElementById("time-limit-on"),M=document.getElementById("debug-on"),E=document.getElementById("board"),b=document.getElementById("output"),m=N(),w=document.getElementById("indicator");let f=null,u=null;const I=document.getElementById("solver-start"),p=document.getElementById("solver-stop");I.addEventListener("click",()=>{I.disabled=!0,p.disabled=!1,40<=parseInt(i.value)?E.classList.add("small"):E.classList.remove("small"),f=S(E,parseInt(i.value)),b.value="",u=$(()=>p.click()),C(u,parseInt(v.value),T.checked?parseFloat(y.value):-1,h.checked?parseInt(B.value):-1,M.checked,parseInt(i.value))}),p.addEventListener("click",()=>{I.disabled=!1,p.disabled=!0,u&&u.terminate()});function S(s,t){const e=[];s.innerHTML="";for(let n=0;n<t;++n){const a=document.createElement("tr");s.appendChild(a),e.push(a);for(let r=0;r<t;++r){const o=document.createElement("td");a.appendChild(o)}}return e}let l=0;function $(s){let t=0,e=0;l=0;const n=parseInt(g.value),a=new Worker(new URL(""+new URL("worker-DB-FTOGB.js",import.meta.url).href,import.meta.url),{type:"module"});return a.onmessage=r=>{const{data:o}=r;if("log"in o)m(o.log);else if("board"in o){const{x:c,y:d}=o.board;f[d].className="p"+c}else if("result"in o){const{result:c,solver:d,time:L,ev:k}=o;t+=L,e+=k,l+=1,m(`Solver: ${d}    ${c?"Success":"Failure"}`),m(`Trial: ${l}    time: ${L}    ratio: ${k}`),n<=l&&(m(`Avg. time: ${t/n}    Avg. ratio: ${e/n}`),w.innerHTML=`Avg. time: ${Math.round(10*t/n)/10}&emsp;Avg. ratio: ${Math.round(1e4*e/n)/1e4}`,s())}},a}async function C(s,t,e,n,a,r){const o=parseInt(g.value);for(let c=0;c<o;++c){const d=l;s.postMessage({task:"create",args:[r]}),s.postMessage({task:"solve",args:[t,e,n,a]}),await A(()=>l!==d)}}});
